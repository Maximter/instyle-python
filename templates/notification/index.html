<!DOCTYPE html>
{% load static %}
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <title>Instyle</title>
    <link rel="stylesheet" href="{% static "css/notification.css" %}" />
    <link rel="shortcut icon" type="image/x-icon" href="{% static "img/system/title-logo.png" %}" />
  </head>
  <body>
    <header>
      <section>
        <a href="/"><p class="logo-name">Instyle</p></a>
        <div class="header-icons">
          <a href="/"><img src="{% static 'img/system/home-empty.svg' %}" alt="Главная страница" title="Главная страница"></img></a>
          <a href="/chat"><img src="{% static 'img/system/chat-empty.svg' %}" alt="Мессенджер" title="Мессенджер"></img></a>
          <a href="/post"><img src="{% static 'img/system/add-empty.svg' %}" alt="Добавить фотографию" title="Добавить фотографию"></img></a>
          <a href="/recommendation"><img src="{% static 'img/system/compass-empty.svg' %}" alt="Рекомендуемое" title="Рекомендуемое"></img></a>
          <a href="/notification"><img src="{% static 'img/system/notification-fill.svg' %}" alt="Уведомления" title="Уведомления"></img></a>
          <a href="/user/{{user.username}}">
            {%if profile.avatar_small%}
            <img src="/static/img/small/avatar/{{user.id}}.jpg" alt="{{user.name_lastname}}" title="{{user.name_lastname}}" class="user-avatar" id="upper-avatar">
            {%else%}
            <img src="/static/img/small/avatar/standard.png" alt="{{user.name_lastname}}" title="{{user.name_lastname}}" class="user-avatar" id="upper-avatar">
            {%endif%}
          </a>
        </div>
      </section>
    </header>
    
    <section class="main-section">
      <h1>Уведомления</h1>

      <ul class="settings-block">  
        {%if notifications%}
        {%for this in notifications%}
          <li>
            <a href="/user/{{this.sender.username}}" class="owner-block">
              {%if this.avatar%}
                <img src="/static/img/small/avatar/{{user.id}}.jpg" alt="{{user.name_lastname}}" title="{{user.name_lastname}}" class="notif-avatar">
              {%else%}
                <img src="/static/img/small/avatar/standard.png" alt="{{user.name_lastname}}" title="{{user.name_lastname}}" class="notif-avatar">
              {%endif%}
            </a>

              {%if this.notification_type == 'follow'%}
                <p><a href="/user/{{this.sender.username}}"><span>{{this.sender.username}}</span></a> подписался(ась) на Вас</p>
              {%endif%} {%if this.notification_type == 'comment'%}
                <p><a href="/user/{{this.sender.username}}"><span>{{this.sender.username}}</span></a> прокомментировал(а) Вашу запись</p>
              {%endif%} {%if this.notification_type == 'like'%}
              <p><a href="/user/{{this.sender.username}}"><span>{{this.sender.username}}</span></a> понравилась Ваша запись:</p>
              {%endif%}
            
            {%if this.notification_type != 'follow'%}
              {%if this.mp4%}
                <a href="/post/{{this.post.id_img}}">
                <video class="notif-post" style="object-fit: contain;">
                  <source src="/img/post/postedVid/{{this.post.id_img}}.mp4" type='video/mp4;'>
                </video>
              {%else%}
                <a href="/post/{{this.post.id_post}}">
                  <img src="/static/img/small/post/{{user.id}}/{{this.post.id_post}}.jpg" class="notif-post">
                </a>
              {%endif%}
            {%endif%}
              
          </li>  
        {%endfor%}
        {%else%}
        <li><p>У Вас пока что нет уведомлений</p></li>  
        {%endif%} 
      </ul>

    </section>

    <script src="/socket.io/socket.io.js"></script>
  <script src="../js/sockets.js"></script>
  </body>
</html>